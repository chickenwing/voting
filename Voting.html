<link href="http://code.jquery.com/ui/1.9.0/themes/base/jquery-ui.css" rel="stylesheet">

<!--<link href="/public/css/ui-lightness/jquery-ui-1.8.18.custom.css" rel="stylesheet">-->

<link href="Voting.css" rel="stylesheet" type="text/css">

<h1>dont forget to vote</h1>

<div id="voting" class="Voting">

    <div class="Voting-item" id="Voting-a">
        <span>Pluto</span>
        <div class="Voting-bar">
            <span class="Voting-votes">60</span>
            <span>Stimmen</span>
            <span class="Voting-perc">(60%)</span>
            <div class="Voting-bar-filling" style="width:60%"></div>
        </div>
    </div>

    <div class="Voting-item" id="Voting-b">
        <span>Jupiter</span>
        <div class="Voting-bar">
            <span class="Voting-votes">30</span>
            <span>Stimmen</span>
            <span class="Voting-perc">(30%)</span>
            <div class="Voting-bar-filling" style="width:30%"></div>
        </div>
    </div>

    <div class="Voting-item" id="Voting-c">
        <span>Saturn</span>
        <div class="Voting-bar">
            <span class="Voting-votes">9</span>
            <span>Stimmen</span>
            <span class="Voting-perc">(9%)</span>
            <div class="Voting-bar-filling" style="width:9%"></div>
        </div>
    </div>

    <div class="Voting-slider"></div>

    <div class="Voting-footer">
        <label class="Voting-blind">hide votes before voting<input type="checkbox"></label>

        <a class="Voting-goto" href="#">go to next voting</a>
        <div class="Voting-total">
            <span class="Voting-total-count">100</span>
            <span>Stimmen</span>
            <span class="Voting-time"></span>
            <div class="Voting-live" title="We'll Do It Live">‚óè</div>
        </div>
    </div>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
<script src="http://code.jquery.com/ui/1.9.0/jquery-ui.js"></script>
<script src="http://raw.github.com/timrwood/moment/1.7.0/min/moment.min.js"></script>

<script src="Voting.js"></script>

<script>
    var history = []
    var arr = {a:0, b:0, c:0}

    for (var i = 0; i < 100; i++) {
        history[i] = [0, {a:0, b:0, c:0}]
    }

    for (var j = 1; j < history.length; j++) {
        var index = getRandomInt(0, 2)
        var key = makeid()

        arr[key]++
        history[j][0] = new Date().getTime()/1000
        history[j][1] = $.extend({}, arr)

        //history[j][1] = $.map(history[j][1], function(v){
        // return parseInt(v)
        //})
    }

    window.voting = $("#voting").voting({
        history: history
    })

    function getRandomInt (min, max) {
        return Math.floor(Math.random() * (max - min + 1)) + min;
    }

    function makeid() {
        var text = "";
        var possible = "abc";

        for( var i=0; i < 1; i++ ) {
            text += possible.charAt(Math.floor(Math.random() * possible.length));
        }

        return text;
    }
</script>